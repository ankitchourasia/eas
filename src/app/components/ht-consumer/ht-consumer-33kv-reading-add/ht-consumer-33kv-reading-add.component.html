<form  #readAddForm="ngForm">
  <div class="form-group row">
    <label class="col-4 col-form-label">Zone</label>
    <div class="col-8">
      <select [ngClass]="{'is-valid': !zoneName.errors && (zoneName.dirty || zoneName.touched),'is-invalid': zoneName.errors && (zoneName.dirty || zoneName.touched)}"
        class="form-control" [(ngModel)]="formData.zone" #zoneName="ngModel" id="zoneName" name="zoneName" (change)="zoneChanged(formData.zone)" required>
        <option disabled selected [ngValue]='undefined'>Select</option>
        <option *ngFor="let zone of zoneList" [ngValue]="zone">{{zone.name | uppercase}}</option>
      </select>
      <div class="invalid-feedback" *ngIf="zoneName.errors && (zoneName.dirty || zoneName.touched)">
        <div *ngIf="zoneName.errors.required">required field</div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-4 col-form-label">Service Number</label>
    <div class="col-8">
      <select [ngClass]="{'is-valid': !ServiceNumber.errors && (ServiceNumber.dirty || ServiceNumber.touched),'is-invalid': ServiceNumber.errors && (ServiceNumber.dirty || ServiceNumber.touched)}"
        class="form-control" [(ngModel)]="formData.consumer" #ServiceNumber="ngModel" id="ServiceNumber" name="ServiceNumber" required>
        <option disabled selected [ngValue]='undefined'>Select</option>
        <option *ngFor="let consumer of consumerList" [ngValue]="consumer">{{consumer.serviceNo}}</option>
      </select>
      <div class="invalid-feedback" *ngIf="ServiceNumber.errors && (ServiceNumber.dirty || ServiceNumber.touched)">
        <div *ngIf="ServiceNumber.errors.required">required field</div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-4 col-form-label">Consumer Name</label>
    <div class="col-8">
        <input type="text" class="form-control" [ngModel]="formData?.consumer?.name" id="consumerName" name="consumerName" disabled>
    </div>
  </div>
  <div class="form-group row">
    <div class="input-group">
      <label class="col-4 col-form-label">Bill Month</label>
      <div class="col-8">
        <div class="input-group">
          <select [ngClass]="{'is-valid': !billmonth.errors && (billmonth.dirty || billmonth.touched),'is-invalid': billmonth.errors && (billmonth.dirty || billmonth.touched)}"
            class="form-control" [(ngModel)]="formData.month" #billmonth="ngModel" id="billmonth"  name="billmonth" required>
            <option disabled selected [ngValue]='undefined'>Month<span>&nbsp;&nbsp;</span></option>
            <option *ngFor="let month of globalConstants.MONTHS" [ngValue]="month">{{month | uppercase}}</option>
          </select>
          <select [ngClass]="{'is-valid': !billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched),'is-invalid': billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched)}"
            class="form-control" [(ngModel)]="formData.year" #billMonthyear="ngModel" id="billMonthyear"  name="billMonthyear" required>
            <option disabled selected [ngValue]='undefined'>Year</option>
            <option *ngFor="let year of globalConstants.YEARS" [ngValue]="(year-2000)">{{year}}</option>
          </select>
          <div class="invalid-feedback" *ngIf="(billmonth.errors && (billmonth.dirty || billmonth.touched)) || (billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched))">
            <div [hidden]="!billmonth.errors?.required && !billMonthyear.errors?.required">required bill month</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <fieldset>
    <div class="form-group row">
      <label class="col-4 col-form-label">Consumption</label>
      <div class="col-8">
        <input type="number" [ngClass]="{'is-valid': !consumpton.errors && (consumpton.dirty || consumpton.touched),'is-invalid': consumpton.errors && (consumpton.dirty || consumpton.touched)}"
          class="form-control" [(ngModel)]="formData.consumption" #consumpton="ngModel" id="consumpton"  name="consumpton" min="0" required>
        <div class="invalid-feedback" *ngIf="consumpton.errors && (consumpton.dirty || consumpton.touched)">
          <div *ngIf="consumpton.errors.required">required field</div>
          <div [hidden]="!consumpton.errors.min || consumpton.errors.required">Invalid consumption</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-4 col-form-label">Billed Unit</label>
      <div class="col-8">
        <input type="number" [ngClass]="{'is-valid': !billedUnit.errors && (billedUnit.dirty || billedUnit.touched),'is-invalid': billedUnit.errors && (billedUnit.dirty || billedUnit.touched)}"
          class="form-control" [(ngModel)]="formData.billedUnit" #billedUnit="ngModel" id="billedUnit"  name="billedUnit" min="0" required>
        <div class="invalid-feedback" *ngIf="billedUnit.errors && (billedUnit.dirty || billedUnit.touched)">
          <div *ngIf="billedUnit.errors.required">required field</div>
          <div [hidden]="!billedUnit.errors.min || billedUnit.errors.required">Invalid consumption</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-4 col-form-label">Amount Billed</label>
      <div class="col-8">
        <input type="number" [ngClass]="{'is-valid': !amountBilled.errors && (amountBilled.dirty || amountBilled.touched),'is-invalid': amountBilled.errors && (amountBilled.dirty || amountBilled.touched)}"
          class="form-control" [(ngModel)]="formData.amountBilled" #amountBilled="ngModel" id="amountBilled"  name="amountBilled" min="0" required>
        <div class="invalid-feedback" *ngIf="amountBilled.errors && (amountBilled.dirty || amountBilled.touched)">
          <div *ngIf="amountBilled.errors.required">required field</div>
          <div [hidden]="!amountBilled.errors.min || amountBilled.errors.required">Invalid consumption</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-4 col-form-label">Amount Collected</label>
      <div class="col-8">
        <input type="number" [ngClass]="{'is-valid': !amountCollected.errors && (amountCollected.dirty || amountCollected.touched),'is-invalid': amountCollected.errors && (amountCollected.dirty || amountCollected.touched)}"
          class="form-control" [(ngModel)]="formData.amountCollected" #amountCollected="ngModel" id="amountCollected"  name="amountCollected" min="0" required>
        <div class="invalid-feedback" *ngIf="amountCollected.errors && (amountCollected.dirty || amountCollected.touched)">
          <div *ngIf="amountCollected.errors.required">required field</div>
          <div [hidden]="!amountCollected.errors.min || amountCollected.errors.required">Invalid consumption</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-4 offset-4">
        <button type="button" class="btn btn-success form-control" (click)="submitClicked(readAddForm)" [disabled]="!readAddForm.form.valid || _submitClicked">
          Submit <span class="spinner-border spinner-border-sm" *ngIf="_submitClicked"></span>
        </button>
      </div>
      <div class="col-4">
        <button type="button" class="btn btn-danger form-control" (click)="resetClicked(readAddForm)">Reset</button>
      </div>
    </div>
  </fieldset>
</form>