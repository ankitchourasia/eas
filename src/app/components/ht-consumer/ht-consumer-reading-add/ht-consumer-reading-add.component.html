<div>
  <div class="form-group row">
    <label class="col-sm-3 col-form-label">Service No</label>
    <div class="col-sm-9">
      <input type="number" [ngClass]="{'is-valid': !serviceNumber.errors && (serviceNumber.dirty || serviceNumber.touched),'is-invalid': serviceNumber.errors && (serviceNumber.dirty || serviceNumber.touched)}"
        class="form-control" [(ngModel)]="reading.serviceNumber" #serviceNumber="ngModel" id="serviceNumber"  name="serviceNumber" required>
      <div class="invalid-feedback" *ngIf="serviceNumber.errors && (serviceNumber.dirty || serviceNumber.touched)">
        <div *ngIf="serviceNumber.errors.required">required field</div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <div class="input-group">
      <label class="col-sm-3 col-form-label">Bill Month</label>
      <div class="col-sm-9">
        <div class="input-group">
          <select [ngClass]="{'is-valid': !billmonth.errors && (billmonth.dirty || billmonth.touched),'is-invalid': billmonth.errors && (billmonth.dirty || billmonth.touched)}"
            class="form-control" [(ngModel)]="month" #billmonth="ngModel" id="billmonth"  name="billmonth" required>
            <option disabled selected [ngValue]='undefined'>Month<span>&nbsp;&nbsp;</span></option>
            <option *ngFor="let month of globalConstants.MONTHS" [ngValue]="month">{{month | uppercase}}</option>
          </select>
          <select [ngClass]="{'is-valid': !billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched),'is-invalid': billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched)}"
            class="form-control" [(ngModel)]="year" #billMonthyear="ngModel" id="billMonthyear"  name="billMonthyear" required>
            <option disabled selected [ngValue]='undefined'>Year</option>
            <option *ngFor="let year of globalConstants.YEARS" [ngValue]="(year-2000)">{{year}}</option>
          </select>
          <div class="input-group-append">
            <button type="button" class="btn btn-sm btn-primary" (click)="searchButtonClicked()" [disabled]="billmonth.errors || billMonthyear.errors || loading">
              Search
            </button>
          </div>
          <div class="invalid-feedback" *ngIf="(billmonth.errors && (billmonth.dirty || billmonth.touched)) || (billMonthyear.errors && (billMonthyear.dirty || billMonthyear.touched))">
            <div [hidden]="!billmonth.errors?.required && !billMonthyear.errors?.required">required bill month</div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <fieldset *ngIf="consumer">
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Division Name</label>
      <div class="col-sm-9">
          <input type="text" class="form-control" [ngModel]="consumer.division.name" id="readingDiff" name="readingDiff" disabled>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Zone Name</label>
      <div class="col-sm-9">
          <input type="text" class="form-control" [ngModel]="consumer.zone.name" id="readingDiff" name="readingDiff" disabled>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Feeder Name</label>
      <div class="col-sm-9">
          <input type="text" class="form-control" [ngModel]="consumer.feeder.name" id="readingDiff" name="readingDiff" disabled>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Consumer Name</label>
      <div class="col-sm-9">
          <input type="text" class="form-control" [ngModel]="consumer.consumerName" id="readingDiff" name="readingDiff" disabled>
      </div>
    </div>
    <div class="form-group row">
      <label class="col-sm-3 col-form-label">Consumption</label>
      <div class="col-sm-9">
        <input type="number" [ngClass]="{'is-valid': !consumpton.errors && (consumpton.dirty || consumpton.touched),'is-invalid': consumpton.errors && (consumpton.dirty || consumpton.touched)}"
          class="form-control" [(ngModel)]="reading.totalConsumption" #consumpton="ngModel" id="consumpton"  name="consumpton" min="0" required>
        <div class="invalid-feedback" *ngIf="consumpton.errors && (consumpton.dirty || consumpton.touched)">
          <div *ngIf="consumpton.errors.required">required field</div>
          <div [hidden]="!consumpton.errors.min || consumpton.errors.required">Invalid consumption</div>
        </div>
      </div>
    </div>
    <div class="form-group row">
      <div class="col-4 offset-3">
        <button type="button" class="btn btn-success form-control" (click)=submitClicked() [disabled]="loading">Submit</button>
      </div>
      <div class="col-4 offset-1">
        <button type="reset" class="btn btn-danger form-control">Reset</button>
      </div>
    </div>
  </fieldset>
</div>
